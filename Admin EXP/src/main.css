/* Simple modern styling with glassmorphism and dark mode support */
:root{
  --bg: #f6f7fb;
  --card: rgba(255,255,255,0.8);
  --text: #0f172a;
  --muted: #64748b;
  --accent: #7c3aed;
  --glass-border: rgba(255,255,255,0.6);
  --shadow: 0 4px 16px rgba(16,24,40,0.08);
}

[data-theme="dark"]{
  --bg: #0b1020;
  --card: rgba(20,24,36,0.6);
  --text: #e6eef8;
  --muted: #93c5fd;
  --accent: #8b5cf6;
  --glass-border: rgba(255,255,255,0.06);
  --shadow: 0 8px 24px rgba(2,6,23,0.5);
}

*{box-sizing:border-box}
html,body{height:100%;}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; margin:0; background:linear-gradient(180deg,var(--bg),#e6eef8); color:var(--text);transition:background-color 220ms ease,color 220ms ease}
 .navbar{position:fixed;top:0;left:0;right:0;height:56px;background:var(--card);display:flex;align-items:center;justify-content:space-between;padding:0 16px;backdrop-filter:blur(6px);box-shadow:var(--shadow);z-index:50;border-bottom:1px solid var(--glass-border);transition:background-color 220ms ease, border-color 220ms ease}
 /* unified base button styling */
 button{font:inherit;border:none;background:transparent;color:inherit}
 button[disabled]{opacity:.5;cursor:not-allowed}
 .nav-button,.primary,.small-button,.small-icon,.option-btn,.heart-option{border-radius:10px;padding:8px 10px;transition:all 120ms ease}
 .nav-button:hover,.nav-button:focus{background:rgba(0,0,0,0.04)}
 .primary:hover,.primary:focus{filter:brightness(.95);transform:translateY(-1px)}
 .small-button:hover,.small-button:focus{background:rgba(0,0,0,0.04)}
 .small-icon:hover,.small-icon:focus{filter:brightness(.92)}
 .option-btn:hover{background:rgba(0,0,0,0.04)}
 .heart-option:hover{transform:scale(1.06)}
 /* uniformly style the primary and small-button classes */
 .primary{background:linear-gradient(90deg,var(--accent),#06b6d4);color:white;border:none;padding:8px 12px;border-radius:10px;cursor:pointer}
 .small-button{background:transparent;border:1px solid var(--glass-border);border-radius:10px;padding:8px;cursor:pointer}
 .danger{background:linear-gradient(90deg,#fb7185,#ef4444);color:white;border:none}
 
.nav-brand{font-weight:700}
.nav-links{list-style:none;margin:0;padding:0;display:flex;gap:8px;align-items:center}
.nav-button{border:none;background:transparent;padding:6px 10px;border-radius:8px;color:var(--text);cursor:pointer}
.nav-button:hover{background:rgba(0,0,0,0.04)}
.heart-button{border:none;background:transparent;font-size:16px;padding:6px 10px;border-radius:8px;display:flex;gap:8px;align-items:center;cursor:pointer}
.heart-button:hover{background:rgba(0,0,0,0.04)}
.container{max-width:1100px;margin:72px auto;padding:16px;display:grid;grid-template-columns:1fr;gap:16px}
.panel{background:var(--card);border-radius:14px;padding:14px;box-shadow:var(--shadow);border:1px solid var(--glass-border)}
.input-panel{display:flex;flex-direction:column}
.input-row{display:flex;gap:8px;align-items:center}
.input-row input[type=number]{flex:1;padding:10px;border-radius:10px;border:1px solid var(--glass-border);background:transparent;color:var(--text)}
/* hide number input spinner across browsers */
.input-row input[type=number]::-webkit-outer-spin-button, .input-row input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.input-row input[type=number] { appearance: textfield; -moz-appearance: textfield; }
.primary{background:linear-gradient(90deg,var(--accent),#06b6d4);color:white;border:none;padding:8px 12px;border-radius:10px;cursor:pointer}
.small-button{background:transparent;border:1px solid var(--glass-border);border-radius:10px;padding:8px 10px;cursor:pointer}
.danger{background:linear-gradient(90deg,#fb7185,#ef4444);color:white}
.results{min-height:60px;padding:12px;border-radius:10px;border:1px solid var(--glass-border);overflow:auto;white-space:pre-wrap}
.history{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px;overflow:auto;}
/* The height of the history area will be dynamically set by JS to show max 4 items */
.history-item{display:flex;align-items:center;justify-content:space-between;border-radius:8px;padding:10px;background:rgba(255,255,255,0.03);border:1px solid var(--glass-border)}
.history-item .meta{font-size:14px;color:var(--muted)}
.copy-btn, .delete-btn{border:none;background:transparent;margin-left:6px;cursor:pointer}
.option-btn{background:transparent;border:none;font-size:20px}
.copy-btn:hover,.delete-btn:hover{filter:brightness(.95)}
.option-btn:hover{background:rgba(0,0,0,0.04);border-radius:8px}
.heart-panel{position:fixed;right:20px;top:80px;background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow);display:none;z-index:52;border:1px solid var(--glass-border)}
.heart-panel[aria-hidden="false"]{display:block}
.hearts{display:flex;gap:8px}
.heart-option{font-size:20px;border:none;background:transparent;padding:6px;border-radius:8px;cursor:pointer}
 .modal-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.28);z-index:60;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);opacity:0;visibility:hidden;pointer-events:none;transition:opacity 180ms ease, visibility 180ms ease}
 .modal-overlay.open{opacity:1;visibility:visible;pointer-events:auto}
 .modal{background:var(--card);-webkit-backdrop-filter: blur(10px);backdrop-filter: blur(10px);width:90%;max-width:480px;border-radius:12px;padding:18px;border:1px solid var(--glass-border);box-shadow:var(--shadow);transform:translateY(8px) scale(.98);opacity:0;transition:opacity 200ms ease, transform 220ms ease}
 .modal-overlay.open .modal{transform:translateY(0) scale(1);opacity:1}
 .modal header{display:flex;justify-content:space-between;align-items:center;position:relative}
 .modal .close{border:none;background:transparent;font-size:18px;cursor:pointer;padding:8px;border-radius:8px;position:absolute;top:10px;right:10px}
 /* keep display:none helper; overlay open/close uses the `open` class for transitions */
 .hidden{display:none}
 
.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

/* Modal form styling - stacked inputs and spacing */
.modal form{display:flex;flex-direction:column;gap:8px}
.modal form label{display:block;font-weight:600;margin-bottom:4px;color:var(--muted)}
.modal form input[type="email"], .modal form input[type="password"], .modal form input[type="text"]{padding:10px;border-radius:8px;border:1px solid var(--glass-border);background:transparent;color:var(--text)}
.modal form .form-actions{display:flex;gap:8px;align-items:center}
.modal .muted{color:var(--muted);font-size:13px}
.modal a.switch-to-login, .modal a.switch-to-register{color:var(--accent);text-decoration:underline;cursor:pointer}
/* Toast notifications */
.toast-container{position:fixed;right:16px;bottom:16px;z-index:160;display:flex;flex-direction:column;gap:8px;max-width:360px}
.toast{background:var(--card);border:1px solid var(--glass-border);border-radius:10px;padding:10px 12px;box-shadow:var(--shadow);display:flex;align-items:center;gap:10px;min-height:44px;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);opacity:0;transform:translateY(6px);transition:opacity 180ms ease, transform 160ms ease}
.toast.open{opacity:1;transform:translateY(0)}
.toast .text{flex:1;color:var(--text)}
.toast .close-toast{border:none;background:transparent;font-size:18px;cursor:pointer;color:var(--muted)}
.toast--success{border-left:4px solid #10b981}
.toast--error{border-left:4px solid #ef4444}
.toast--info{border-left:4px solid var(--accent)}
@media(min-width:960px){
  .container{grid-template-columns:1fr 360px;grid-template-areas:"left right"}
  .results-panel{grid-column:1;}
  .history-panel{grid-column:2}
  .history{max-height:600px}
}
@media(max-width:959px){
  .container{grid-template-columns:1fr;}
  .history{max-height:260px}
}
/* Focus states */
button:focus,input:focus{outline:2px solid rgba(124,58,237,0.25);outline-offset:2px}
/* Scrollbar styling for modern browsers */
.results::-webkit-scrollbar,.history::-webkit-scrollbar{height:8px;width:8px}
.results::-webkit-scrollbar-track,.history::-webkit-scrollbar-track{background:transparent}
.results::-webkit-scrollbar-thumb,.history::-webkit-scrollbar-thumb{background:linear-gradient(90deg,var(--accent),#06b6d4);border-radius:8px}
/* Accessibility improvements for option menus */
.option-menu{position:fixed;display:flex;flex-direction:column;gap:6px;background:var(--card);padding:8px;border-radius:10px;border:1px solid var(--glass-border);box-shadow:var(--shadow);z-index:70;min-width:120px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);transition:opacity 140ms ease, transform 140ms ease}
.option-menu.open{opacity:1;transform:translateY(0) scale(1)}
.option-menu.closed{opacity:0;transform:translateY(-6px) scale(.98)}
.option-menu button{display:block;background:transparent;border:none;padding:8px;border-radius:8px;text-align:left;cursor:pointer;color:var(--text)}
.option-menu button:hover,.option-menu button:focus{background:rgba(0,0,0,0.04);outline:none}
.option-menu button[role="menuitem"]{font-weight:600}
/* small icon buttons */
.small-icon{background:transparent;border:none;cursor:pointer;font-size:14px;padding:6px}

/* Make sure the app works on small screens */
@media (max-width:520px){.nav-links{display:flex;gap:6px}}

/* provide reasonable transitions */
button, .results, .history-item{transition:all .12s ease}
button:hover{filter:brightness(.98);transform:translateY(-1px)}
.modal .close:hover,.modal .close:focus{background:rgba(0,0,0,0.04)}
.panel{transition:background-color 220ms ease,border-color 220ms ease}

/* accessible colors for danger */
.danger{color:#fff}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce){
  *{transition:none !important}
}


